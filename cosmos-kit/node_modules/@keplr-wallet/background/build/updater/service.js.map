{"version":3,"file":"service.js","sourceRoot":"","sources":["../../src/updater/service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA,kDAA6C;AAE7C,iDAAqD;AAGrD,iDAAkD;AAElD,MAAa,mBAAmB;IAG9B,YAA+B,OAAgB;QAAhB,YAAO,GAAP,OAAO,CAAS;IAAG,CAAC;IAEnD,IAAI,CAAC,aAA4B;QAC/B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;IACrC,CAAC;IAEK,6BAA6B,CACjC,SAAoB;;;YAEpB,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,uBAAuB,CACxD,SAAS,CAAC,OAAO,CAClB,CAAC;YAEF,MAAM,OAAO,GAAG,sBAAa,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YACvD,MAAM,cAAc,GAAG,sBAAa,CAAC,KAAK,CACxC,eAAe,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,CAC7C,CAAC;YAEF,0EAA0E;YAC1E,IAAI,cAAc,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,EAAE;gBAC5C,OAAO,SAAS,CAAC;aAClB;YAED,MAAM,QAAQ,SAAG,SAAS,CAAC,QAAQ,mCAAI,EAAE,CAAC;YAC1C,KAAK,MAAM,cAAc,UAAI,eAAe,CAAC,QAAQ,mCAAI,EAAE,EAAE;gBAC3D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE;oBACtC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;iBAC/B;aACF;YAED,uCACK,SAAS,GACT;gBACD,OAAO,EAAE,eAAe,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO;gBACrD,GAAG,EAAE,eAAe,CAAC,GAAG,IAAI,SAAS,CAAC,GAAG;gBACzC,IAAI,EAAE,eAAe,CAAC,IAAI,IAAI,SAAS,CAAC,IAAI;gBAC5C,QAAQ;aACT,EACD;;KACH;IAEK,oBAAoB,CAAC,OAAe;;YACxC,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,sBAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAEtE,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QAC7C,CAAC;KAAA;IAEK,cAAc,CAAC,OAAe;;;YAClC,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YAEjE,sDAAsD;YACtD,qDAAqD;YACrD,IAAI,CAAC,sBAAa,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;gBACrD,OAAO;aACR;YAED,MAAM,OAAO,GAAG,MAAM,mBAAmB,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YAEtE,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,MAAM,EAAE;gBACtC,MAAM,cAAc,GAAG,sBAAa,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBAE9D,IAAI,OAAO,CAAC,OAAO,EAAE;oBACnB,MAAM,cAAc,GAAG,OAAO,CAAC,OAAO,CAAC;oBACvC,MAAM,cAAc,GAAG,sBAAa,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;oBAE3D,IACE,cAAc,CAAC,UAAU,KAAK,cAAc,CAAC,UAAU;wBACvD,cAAc,CAAC,OAAO,GAAG,cAAc,CAAC,OAAO,EAC/C;wBACA,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,UAAU,EAAE;4BACtD,OAAO,EAAE,cAAc;yBACxB,CAAC,CAAC;qBACJ;iBACF;gBAED,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;oBACnD,MAAM,kBAAkB,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAC3D,SAAS,CAAC,OAAO,CAClB,CAAC;oBAEF,MAAM,cAAc,SAAG,kBAAkB,CAAC,QAAQ,mCAAI,EAAE,CAAC;oBAEzD,KAAK,MAAM,OAAO,IAAI,OAAO,CAAC,QAAQ,EAAE;wBACtC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;4BACrC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;yBAC9B;qBACF;oBAED,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,UAAU,EAAE;wBACtD,QAAQ,EAAE,cAAc;qBACzB,CAAC,CAAC;iBACJ;aACF;;KACF;IAEa,uBAAuB,CACnC,OAAe;;YAEf,MAAM,OAAO,GAAG,sBAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAE7C,OAAO,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC1D,CAAC;KAAA;IAEa,iBAAiB,CAC7B,UAAkB,EAClB,SAA6B;;YAE7B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;YAEvD,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,kCAC5B,KAAK,GACL,SAAS,EACZ,CAAC;YAEH,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QAC7C,CAAC;KAAA;IAEa,iBAAiB,CAC7B,UAAkB;;YAElB,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAqB,UAAU,CAAC,CAAC;YACzE,IAAI,CAAC,SAAS;gBAAE,OAAO,EAAE,CAAC;YAC1B,OAAO,SAAS,CAAC;QACnB,CAAC;KAAA;IAED;;;;OAIG;IACI,MAAM,CAAO,gBAAgB,CAClC,SAA8B;;;YAQ9B,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;YAElC,sDAAsD;YACtD,qDAAqD;YACrD,IAAI,CAAC,sBAAa,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE;gBAC3C,OAAO;oBACL,QAAQ,EAAE,KAAK;oBACf,MAAM,EAAE,KAAK;iBACd,CAAC;aACH;YAED,MAAM,QAAQ,GAAG,eAAK,CAAC,MAAM,CAAC;gBAC5B,OAAO,EAAE,SAAS,CAAC,GAAG;aACvB,CAAC,CAAC;YAEH,sCAAsC;YACtC,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,GAAG,CAM9B,SAAS,CAAC,CAAC;YAEd,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC;YAE3D,MAAM,OAAO,GAAG,sBAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC7C,MAAM,cAAc,GAAG,sBAAa,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAE1D,+BAA+B;YAC/B,IAAI,OAAO,CAAC,UAAU,KAAK,cAAc,CAAC,UAAU,EAAE;gBACpD,OAAO;oBACL,QAAQ,EAAE,KAAK;oBACf,MAAM,EAAE,KAAK;iBACd,CAAC;aACH;YAED,MAAM,YAAY,GAAG,eAAK,CAAC,MAAM,CAAC;gBAChC,OAAO,EAAE,SAAS,CAAC,IAAI;aACxB,CAAC,CAAC;YAEH,IAAI,YAAY,GAAG,KAAK,CAAC;YACzB,IAAI;gBACF,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;oBACjE,qEAAqE;oBACrE,yDAAyD;oBACzD,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,GAAG,CAKlC,8BAA8B,CAAC,CAAC;oBAEnC,IAAI,MAAM,CAAC,MAAM,KAAK,GAAG,EAAE;wBACzB,YAAY,GAAG,IAAI,CAAC;qBACrB;iBACF;aACF;YAAC,WAAM,GAAE;YAEV,IAAI,iBAAiB,GAAG,KAAK,CAAC;YAC9B,IAAI;gBACF,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE;oBACvE,MAAM,OAAO,GACX,YAAY;wBACZ,CAAC,SAAS,CAAC,QAAQ,IAAI,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAEhE,sDAAsD;oBACtD,kDAAkD;oBAClD,yGAAyG;oBACzG,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,GAAG,CAMnC,OAAO;wBACL,CAAC,CAAC,8BAA8B;wBAChC,CAAC,CAAC,2CAA2C,CAChD,CAAC;oBACF,IACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe;wBAClC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAC/B;wBACA,iBAAiB,GAAG,IAAI,CAAC;qBAC1B;iBACF;aACF;YAAC,WAAM,GAAE;YAEV,IAAI,aAAa,GAAG,KAAK,CAAC;YAC1B,IAAI;gBACF,IACE,OAAA,SAAS,CAAC,QAAQ,0CAAE,QAAQ,CAAC,UAAU;oBACvC,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,EAC3C;oBACA,0EAA0E;oBAC1E,yDAAyD;oBACzD,4EAA4E;oBAC5E,wDAAwD;oBACxD,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,GAAG,CACnC,4CAA4C,EAC5C;wBACE,cAAc,EAAE,CAAC,MAAM,EAAE,EAAE;4BACzB,OAAO,MAAM,KAAK,GAAG,IAAI,MAAM,KAAK,GAAG,CAAC;wBAC1C,CAAC;qBACF,CACF,CAAC;oBACF,IAAI,MAAM,CAAC,MAAM,KAAK,GAAG,EAAE;wBACzB,aAAa,GAAG,IAAI,CAAC;qBACtB;iBACF;aACF;YAAC,WAAM,GAAE;YAEV,IAAI,sBAAsB,GAAG,KAAK,CAAC;YACnC,IAAI;gBACF,IACE,CAAC,SAAS,CAAC,QAAQ;oBACnB,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAC1B,+CAA+C,CAChD,EACD;oBACA,iEAAiE;oBACjE,yDAAyD;oBACzD,4EAA4E;oBAC5E,kGAAkG;oBAClG,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,GAAG,CACnC,8CAA8C,EAC9C;wBACE,cAAc,EAAE,CAAC,MAAM,EAAE,EAAE;4BACzB,OAAO,MAAM,KAAK,GAAG,IAAI,MAAM,KAAK,GAAG,CAAC;wBAC1C,CAAC;qBACF,CACF,CAAC;oBACF,IAAI,MAAM,CAAC,MAAM,KAAK,GAAG,EAAE;wBACzB,sBAAsB,GAAG,IAAI,CAAC;qBAC/B;iBACF;aACF;YAAC,WAAM,GAAE;YAEV,MAAM,QAAQ,GAAa,EAAE,CAAC;YAC9B,IAAI,YAAY,EAAE;gBAChB,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACzB;YACD,IAAI,iBAAiB,EAAE;gBACrB,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC/B;YACD,IAAI,aAAa,EAAE;gBACjB,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aAC9B;YACD,IAAI,sBAAsB,EAAE;gBAC1B,QAAQ,CAAC,IAAI,CAAC,+CAA+C,CAAC,CAAC;aAChE;YAED,OAAO;gBACL,QAAQ,EAAE,OAAO,CAAC,OAAO,GAAG,cAAc,CAAC,OAAO;gBAClD,MAAM,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC;gBAE3B,OAAO,EAAE,aAAa;gBACtB,QAAQ;aACT,CAAC;;KACH;IAED,wHAAwH;IACxH,qLAAqL;IAExK,iBAAiB,CAC5B,OAAe,EACf,GAAuB,EACvB,IAAwB;;YAExB,MAAM,SAAS,GAAgC,EAAE,CAAC;YAElD,sEAAsE;YACtE,8HAA8H;YAC9H,iHAAiH;YACjH,IAAI,GAAG,EAAE;gBACP,SAAS,CAAC,GAAG,GAAG,GAAG,CAAC;aACrB;YACD,IAAI,IAAI,EAAE;gBACR,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;aACvB;YAED,MAAM,OAAO,GAAG,sBAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAE7C,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;YAE5D,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;QAClD,CAAC;KAAA;IAEY,mBAAmB,CAC9B,OAAe;;YAEf,MAAM,OAAO,GAAG,sBAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAE7C,sEAAsE;YACtE,8HAA8H;YAC9H,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,EAAE;gBAC/C,GAAG,EAAE,SAAS;gBACd,IAAI,EAAE,SAAS;aAChB,CAAC,CAAC;YAEH,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;QAClD,CAAC;KAAA;IAEM,MAAM,CAAO,0BAA0B,CAC5C,OAAe,EACf,GAAW,EACX,IAAY,EACZ,QAAwE;;YAExE,MAAM,WAAW,GAAG,eAAK,CAAC,MAAM,CAAC;gBAC/B,OAAO,EAAE,GAAG;aACb,CAAC,CAAC;YAEH,IAAI,YAMF,CAAC;YAEH,IAAI;gBACF,sCAAsC;gBACtC,YAAY,GAAG,MAAM,WAAW,CAAC,GAAG,CAMjC,SAAS,CAAC,CAAC;aACf;YAAC,OAAO,CAAC,EAAE;gBACV,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACf,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;aACrE;YAED,MAAM,OAAO,GAAG,sBAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAE7C,MAAM,oBAAoB,GAAG,sBAAa,CAAC,KAAK,CAC9C,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAC3C,CAAC;YAEF,IAAI,oBAAoB,CAAC,UAAU,KAAK,OAAO,CAAC,UAAU,EAAE;gBAC1D,MAAM,IAAI,mBAAU,CAClB,SAAS,EACT,IAAI,EACJ,kDAAkD,OAAO,aAAa,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,GAAG,CACpH,CAAC;aACH;iBAAM,IAAI,oBAAoB,CAAC,OAAO,KAAK,OAAO,CAAC,OAAO,EAAE;gBAC3D,0IAA0I;gBAC1I,oFAAoF;gBACpF,kHAAkH;gBAClH,MAAM,IAAI,mBAAU,CAClB,SAAS,EACT,IAAI,EACJ,kDAAkD,OAAO,aAAa,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,GAAG,CACpH,CAAC;aACH;YAED,IAAI,KAAK,GAAG,GAAG,CAAC;YAChB,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE;gBAC5B,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;aACrC;YACD,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,KAAK,GAAG,YAAY,CAAC;YAEzE,MAAM,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC;YAEzE,qEAAqE;YACrE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;gBAC3B,kCAAkC;gBAClC,IAAI,UAAU,CAAC,UAAU,KAAK,CAAC,EAAE;oBAC/B,4EAA4E;oBAC5E,IAAI,UAAU,CAAC,UAAU,KAAK,CAAC,EAAE;wBAC/B,MAAM;qBACP;yBAAM;wBACL,8BAA8B;wBAC9B,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;qBAClE;iBACF;gBAED,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;aAC3D;YAED,MAAM,YAAY,GAAG,eAAK,CAAC,MAAM,CAAC;gBAChC,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;YAEH,IAAI,iBAIF,CAAC;YAEH,IAAI;gBACF,yCAAyC;gBACzC,iBAAiB,GAAG,MAAM,YAAY,CAAC,GAAG,CAIvC,2CAA2C,CAAC,CAAC;aACjD;YAAC,OAAO,CAAC,EAAE;gBACV,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACf,MAAM,IAAI,KAAK,CACb,oFAAoF,CACrF,CAAC;aACH;YAED,MAAM,sBAAsB,GAAG,sBAAa,CAAC,KAAK,CAChD,iBAAiB,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CACjD,CAAC;YAEF,IAAI,sBAAsB,CAAC,UAAU,KAAK,OAAO,CAAC,UAAU,EAAE;gBAC5D,MAAM,IAAI,mBAAU,CAClB,SAAS,EACT,IAAI,EACJ,kDAAkD,OAAO,aAAa,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,GAAG,CACpH,CAAC;aACH;iBAAM,IAAI,sBAAsB,CAAC,OAAO,KAAK,OAAO,CAAC,OAAO,EAAE;gBAC7D,0IAA0I;gBAC1I,oFAAoF;gBACpF,kHAAkH;gBAClH,MAAM,IAAI,mBAAU,CAClB,SAAS,EACT,IAAI,EACJ,kDAAkD,OAAO,aAAa,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,GAAG,CACpH,CAAC;aACH;QACH,CAAC;KAAA;CACF;AArdD,kDAqdC"}