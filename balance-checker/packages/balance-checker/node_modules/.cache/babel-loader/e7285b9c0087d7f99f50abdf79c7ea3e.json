{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FaucetClient = void 0;\n\nconst axios_1 = __importDefault(require(\"axios\"));\n\nclass FaucetClient {\n  constructor(baseUrl) {\n    if (!baseUrl.match(/^https?:\\/\\//)) {\n      throw new Error(\"Expected base url to start with http:// or https://\");\n    } // Strip trailing /\n\n\n    const strippedBaseUrl = baseUrl.replace(/(\\/)+$/, \"\");\n    this.baseUrl = strippedBaseUrl;\n  }\n\n  async credit(address, denom) {\n    const body = {\n      address: address,\n      denom: denom\n    };\n\n    try {\n      await axios_1.default.post(this.baseUrl + \"/credit\", body);\n    } catch (error) {\n      if (error.response) {\n        // append response body to error message\n        throw new Error(`${error}; response body: ${JSON.stringify(error.response.data)}`);\n      } else {\n        throw error;\n      }\n    }\n  }\n\n}\n\nexports.FaucetClient = FaucetClient;","map":{"version":3,"sources":["../src/faucetclient.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,MAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AAEA,MAAa,YAAb,CAAyB;AAGvB,EAAA,WAAA,CAAmB,OAAnB,EAAkC;AAChC,QAAI,CAAC,OAAO,CAAC,KAAR,CAAc,cAAd,CAAL,EAAoC;AAClC,YAAM,IAAI,KAAJ,CAAU,qDAAV,CAAN;AACD,KAH+B,CAKhC;;;AACA,UAAM,eAAe,GAAG,OAAO,CAAC,OAAR,CAAgB,QAAhB,EAA0B,EAA1B,CAAxB;AACA,SAAK,OAAL,GAAe,eAAf;AACD;;AAEM,QAAM,MAAN,CAAa,OAAb,EAA8B,KAA9B,EAA2C;AAChD,UAAM,IAAI,GAAG;AACX,MAAA,OAAO,EAAE,OADE;AAEX,MAAA,KAAK,EAAE;AAFI,KAAb;;AAKA,QAAI;AACF,YAAM,OAAA,CAAA,OAAA,CAAM,IAAN,CAAW,KAAK,OAAL,GAAe,SAA1B,EAAqC,IAArC,CAAN;AACD,KAFD,CAEE,OAAO,KAAP,EAAc;AACd,UAAI,KAAK,CAAC,QAAV,EAAoB;AAClB;AACA,cAAM,IAAI,KAAJ,CAAU,GAAG,KAAK,oBAAoB,IAAI,CAAC,SAAL,CAAe,KAAK,CAAC,QAAN,CAAe,IAA9B,CAAmC,EAAzE,CAAN;AACD,OAHD,MAGO;AACL,cAAM,KAAN;AACD;AACF;AACF;;AA7BsB;;AAAzB,OAAA,CAAA,YAAA,GAAA,YAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FaucetClient = void 0;\nconst axios_1 = __importDefault(require(\"axios\"));\nclass FaucetClient {\n    constructor(baseUrl) {\n        if (!baseUrl.match(/^https?:\\/\\//)) {\n            throw new Error(\"Expected base url to start with http:// or https://\");\n        }\n        // Strip trailing /\n        const strippedBaseUrl = baseUrl.replace(/(\\/)+$/, \"\");\n        this.baseUrl = strippedBaseUrl;\n    }\n    async credit(address, denom) {\n        const body = {\n            address: address,\n            denom: denom,\n        };\n        try {\n            await axios_1.default.post(this.baseUrl + \"/credit\", body);\n        }\n        catch (error) {\n            if (error.response) {\n                // append response body to error message\n                throw new Error(`${error}; response body: ${JSON.stringify(error.response.data)}`);\n            }\n            else {\n                throw error;\n            }\n        }\n    }\n}\nexports.FaucetClient = FaucetClient;\n//# sourceMappingURL=faucetclient.js.map"]},"metadata":{},"sourceType":"script"}